{"ast":null,"code":"import React,{useState}from\"react\";import chcLogo from\"./chc-logo.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PerDiemCalculator=()=>{const[jobLocation,setJobLocation]=useState({city:\"\",state:\"\",zip:\"\"});const[currentRate,setCurrentRate]=useState(null);const[error,setError]=useState(null);const[loading,setLoading]=useState(false);const GSA_API_KEY=\"BP2fPChQmadJd3ADlMYADSJqXT8CxFD6LZQh4KHt\";const fiscalYear=\"2025\";const fetchCurrentRates=async()=>{setLoading(true);setError(null);setCurrentRate(null);let apiUrl=\"\";if(jobLocation.zip){apiUrl=`https://api.gsa.gov/travel/perdiem/v2/rates/zip/${jobLocation.zip}/year/${fiscalYear}`;}else if(jobLocation.city&&jobLocation.state){apiUrl=`https://api.gsa.gov/travel/perdiem/v2/rates/city/${jobLocation.city}/state/${jobLocation.state}/year/${fiscalYear}`;}else{setError(\"Please provide either a ZIP code or both city and state.\");setLoading(false);return;}try{const response=await fetch(apiUrl,{headers:{\"X-API-KEY\":GSA_API_KEY}});const result=await response.json();const rates=result===null||result===void 0?void 0:result.rates;if(!rates||rates.length===0){setError(\"No data found for this location/year.\");}else{const currentMonth=new Date().getMonth()+1;const matchingRate=rates.find(rate=>parseInt(rate.month)===currentMonth);if(!matchingRate){setError(`No data found for the current month (${currentMonth}).`);}else{setCurrentRate(matchingRate);}}}catch(err){console.error(err);setError(\"Failed to fetch data.\");}setLoading(false);};const formatCurrency=value=>`$${parseFloat(value).toFixed(2)}`;return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:\"600px\",margin:\"0 auto\",fontFamily:\"Arial, sans-serif\"},children:[/*#__PURE__*/_jsxs(\"header\",{style:{textAlign:\"center\",marginBottom:\"20px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:chcLogo,alt:\"CHC Logo\",style:{maxWidth:\"200px\",height:\"auto\"}}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCCD Per Diem Calculator\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:jobLocation.city,onChange:e=>setJobLocation({...jobLocation,city:e.target.value}),style:{width:\"100%\",padding:\"8px\",marginBottom:\"10px\"}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"State (2-letter)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:jobLocation.state,onChange:e=>setJobLocation({...jobLocation,state:e.target.value.toUpperCase()}),style:{width:\"100%\",padding:\"8px\",marginBottom:\"10px\"}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"ZIP Code (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:jobLocation.zip,onChange:e=>setJobLocation({...jobLocation,zip:e.target.value}),style:{width:\"100%\",padding:\"8px\",marginBottom:\"10px\"}})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchCurrentRates,style:{padding:\"10px 20px\",cursor:\"pointer\"},children:\"Fetch Current GSA Rates\"}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),currentRate&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"20px\",border:\"1px solid #ddd\",padding:\"15px\",borderRadius:\"8px\",backgroundColor:\"#f9f9f9\"},children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"For Month \",currentRate.month,\":\"]})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83C\\uDFE0 Housing (Daily): \",formatCurrency(currentRate.value)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83C\\uDF7D\\uFE0F M&IE (Daily): \",formatCurrency(currentRate.meals)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCB0 Total Weekly:\",\" \",formatCurrency((parseFloat(currentRate.value)+parseFloat(currentRate.meals))*7)]})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",marginTop:\"20px\"},children:error})]});};export default PerDiemCalculator;","map":{"version":3,"names":["React","useState","chcLogo","jsx","_jsx","jsxs","_jsxs","PerDiemCalculator","jobLocation","setJobLocation","city","state","zip","currentRate","setCurrentRate","error","setError","loading","setLoading","GSA_API_KEY","fiscalYear","fetchCurrentRates","apiUrl","response","fetch","headers","result","json","rates","length","currentMonth","Date","getMonth","matchingRate","find","rate","parseInt","month","err","console","formatCurrency","value","parseFloat","toFixed","style","maxWidth","margin","fontFamily","children","textAlign","marginBottom","src","alt","height","type","onChange","e","target","width","padding","toUpperCase","onClick","cursor","marginTop","border","borderRadius","backgroundColor","meals","color"],"sources":["/Users/jonahrader/Desktop/per_diem_calculator/src/PerDiemCalculator.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport chcLogo from \"./chc-logo.png\";\n\nconst PerDiemCalculator = () => {\n  const [jobLocation, setJobLocation] = useState({ city: \"\", state: \"\", zip: \"\" });\n  const [currentRate, setCurrentRate] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const GSA_API_KEY = \"BP2fPChQmadJd3ADlMYADSJqXT8CxFD6LZQh4KHt\";\n  const fiscalYear = \"2025\";\n\n  const fetchCurrentRates = async () => {\n    setLoading(true);\n    setError(null);\n    setCurrentRate(null);\n\n    let apiUrl = \"\";\n    if (jobLocation.zip) {\n      apiUrl = `https://api.gsa.gov/travel/perdiem/v2/rates/zip/${jobLocation.zip}/year/${fiscalYear}`;\n    } else if (jobLocation.city && jobLocation.state) {\n      apiUrl = `https://api.gsa.gov/travel/perdiem/v2/rates/city/${jobLocation.city}/state/${jobLocation.state}/year/${fiscalYear}`;\n    } else {\n      setError(\"Please provide either a ZIP code or both city and state.\");\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const response = await fetch(apiUrl, {\n        headers: {\n          \"X-API-KEY\": GSA_API_KEY,\n        },\n      });\n      const result = await response.json();\n      const rates = result?.rates;\n      if (!rates || rates.length === 0) {\n        setError(\"No data found for this location/year.\");\n      } else {\n        const currentMonth = new Date().getMonth() + 1;\n        const matchingRate = rates.find((rate) => parseInt(rate.month) === currentMonth);\n        if (!matchingRate) {\n          setError(`No data found for the current month (${currentMonth}).`);\n        } else {\n          setCurrentRate(matchingRate);\n        }\n      }\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to fetch data.\");\n    }\n    setLoading(false);\n  };\n\n  const formatCurrency = (value) => `$${parseFloat(value).toFixed(2)}`;\n\n  return (\n    <div style={{ maxWidth: \"600px\", margin: \"0 auto\", fontFamily: \"Arial, sans-serif\" }}>\n      <header style={{ textAlign: \"center\", marginBottom: \"20px\" }}>\n        <img src={chcLogo} alt=\"CHC Logo\" style={{ maxWidth: \"200px\", height: \"auto\" }} />\n        <h2>üìç Per Diem Calculator</h2>\n      </header>\n\n      <div style={{ marginBottom: \"20px\" }}>\n        <div>\n          <label>City</label>\n          <input\n            type=\"text\"\n            value={jobLocation.city}\n            onChange={(e) => setJobLocation({ ...jobLocation, city: e.target.value })}\n            style={{ width: \"100%\", padding: \"8px\", marginBottom: \"10px\" }}\n          />\n        </div>\n        <div>\n          <label>State (2-letter)</label>\n          <input\n            type=\"text\"\n            value={jobLocation.state}\n            onChange={(e) =>\n              setJobLocation({ ...jobLocation, state: e.target.value.toUpperCase() })\n            }\n            style={{ width: \"100%\", padding: \"8px\", marginBottom: \"10px\" }}\n          />\n        </div>\n        <div>\n          <label>ZIP Code (Optional)</label>\n          <input\n            type=\"text\"\n            value={jobLocation.zip}\n            onChange={(e) => setJobLocation({ ...jobLocation, zip: e.target.value })}\n            style={{ width: \"100%\", padding: \"8px\", marginBottom: \"10px\" }}\n          />\n        </div>\n      </div>\n\n      <button onClick={fetchCurrentRates} style={{ padding: \"10px 20px\", cursor: \"pointer\" }}>\n        Fetch Current GSA Rates\n      </button>\n\n      {loading && <p>Loading...</p>}\n\n      {currentRate && (\n        <div\n          style={{\n            marginTop: \"20px\",\n            border: \"1px solid #ddd\",\n            padding: \"15px\",\n            borderRadius: \"8px\",\n            backgroundColor: \"#f9f9f9\",\n          }}\n        >\n          <p>\n            <strong>For Month {currentRate.month}:</strong>\n          </p>\n          <p>üè† Housing (Daily): {formatCurrency(currentRate.value)}</p>\n          <p>üçΩÔ∏è M&IE (Daily): {formatCurrency(currentRate.meals)}</p>\n          <p>\n            üí∞ Total Weekly:{\" \"}\n            {formatCurrency(\n              (parseFloat(currentRate.value) + parseFloat(currentRate.meals)) * 7\n            )}\n          </p>\n        </div>\n      )}\n\n      {error && <p style={{ color: \"red\", marginTop: \"20px\" }}>{error}</p>}\n    </div>\n  );\n};\n\nexport default PerDiemCalculator;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}